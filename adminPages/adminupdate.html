<!-- fronted made by Hanna Appiah - 230089015 -->
<!DOCTYPE html>
<html lang="en">
<head>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../css/fonts.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="../css/footer.css">
  <link rel="stylesheet" href="../css/adminNavbar.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../images/Externalmade/favicon.png">
  <script src="../js/searchBar.js"></script>
  <title>Admin Change User Details</title>
  <style>
    .title {
     position: relative;
     left: 35%;
     color: white;
     font-size: medium;
     font-weight: bold;
     padding-top: 50px;
     font-size: 30px;
    }
    .container { 
      width: 60%; 
      margin: auto; 
      color: white; 
    }
    .user-box { 
      border: 1px solid black; 
      padding: 15px; 
      margin: 10px 0; 
      background-color: #222;
      color: white;
    }
    body {
      background-color: #000000;
      color: white;
     overflow-x: hidden;
}
    
    label, input, select {
      display: block;
      margin: 10px 25px;
      width: 90%;
      padding: 8px;
      color: white;
    }
    input, select {
      background-color: #333;
      border: 1px solid white;
      color: white; 
    }
    .button1 button {
      background-color: transparent;
      color: rgb(255, 255, 255);
      border-color: rgb(255, 255, 255);
      padding: 15px 42px;
      border-radius: 50px;
      cursor: pointer;
      position: relative;
      left: 40%;
    }
    @media (max-width: 1024px) {
            .container {
                width: 80%;
            }
            .title {
                left: 25%;
                font-size: 28px;
            }
        }
        @media (max-width: 768px) {
            .container {
                width: 100%;
            }
            .title {
                left: 15%;
                font-size: 24px;
                text-align: center;
            }
            .button button {
                left: 30%;
            }
        }
        @media (max-width: 480px) {
            .container {
                width: 100%;
                padding: 0 10px;
            }
            .title {
                left: 0;
                font-size: 20px;
                text-align: center;
            }
            label, input, select {
                width: 95%;
                margin: 10px 0;
            }
            .button button {
                left: 0;
                width: 100%;
                text-align: center;
            }
          }
 
 
  </style>

<div class="navbar">
  <div class="logo">
    <img src="../images/gtechlogonew.png" alt="G-Tech 50 Logo" class="logo-image">

  </div>

  <div class="nav-links">
    <a href="adminHomepage.html">Home</a>
    <a href="userTransactionPage.html">Transactions</a>
    <a href="adminuser.html">Users</a>
    <a href="adminupdate.html">Update Users</a>
    <a href="inventory.html">Inventory</a>
    <a href="customer-review.html">Reviews</a>
    <a href="ticket.html">Tickets</a>
    <a href="reports.html">Reports</a>

  </div>

  <div class="icon-container">
    <a href="../profile.html"><i class="material-icons">account_circle</i></a>
  </div>

  <div class="hamburger-menu" id="hamburgerMenu">
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
  </div>
</div>

<div class="mobile-nav-links" id="mobileNavLinks">
  <a href="adminHomepage.html">Home</a>
  <a href="userTransactionPage.html">Transactions</a>
  <a href="adminuser.html">Users</a>
  <a href="adminupdate.html">Update Users</a>
  <a href="inventory.html">Inventory</a>
  <a href="customer-review.html">Reviews</a>
  <a href="ticket.html">Tickets</a>
  <a href="reports.html">Reports</a>

</div>

</head>
<body>
 <div class = title> <h2>Admin Change User Details</h2></div>
    <div class="container">
      <form id="adminupdateform" action="../php/adminChangeUserDetailsFunction.php" method="post" class="admin-update-form" method="post" nonvalidate>
    <div class="user-box">
      <label>Current Email: <input type="email" value="" id="oldEmail" name="oldEmail" class="form-control" placeholder="oldEmail" required></label>
      <label>New Email: <input type="email" value="" id="newEmail" name="newEmail" class="form-control" placeholder="newEmail" required></label>
      <label>New Username: <input type="text" value="" id="newUsername" name="newUsername" class="form-control" placeholder="newUsername" required></label>
      <label>New Password: <input type="text" value="NULL" id="newPassword" name="newPassword" class="form-control" placeholder="newPassword" required></label>
      <label>Set Admin Permissions With Code: <input type="text" value="" id="accessCode" name="accessCode" class="form-control" placeholder="accessCode" required></label>
      <div class="button1">
        <button type="submit" class="form-control btn btn-primary rounded submit px-3">Confirm</button>
      </div>
    </div>
    <h2 id = "formResponse"></h2>
    <script>
      // Above form and below script by Ned Goodman 230019355
      // Intercept form submission
      document.getElementById("adminupdateform").addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent default form submission

          // Collect form data
          const formData = new FormData(this);

          // Submit this form data using fetch
          fetch("../php/adminChangeUserDetailsFunction.php", {
              method: "POST",
              body: formData,
          })
              .then(response => {
                if (response.redirected) {
                  // If PHP sent a redirect, follow it
                  window.location.href = response.url;
                  exit();
                }
                return response.text();
              })
              .then(data => {
                  //Display the response inside the formResponse element
                  document.getElementById("formResponse").innerHTML = data;
              })
              .catch(error => console.error("Error:", error));
      });
  </script>
    </form>
  </div>
</body>


</body>
</html>

</html>
